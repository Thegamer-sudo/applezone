---
// src/components/HeroSection.astro
// Clean hero section with minimal overlay
---

<!-- Import font via Google Fonts -->
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">

<style>
    .font-poppins {
        font-family: 'Poppins', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
    }
    
    .gradient-text {
        background: linear-gradient(90deg, #8B5CF6 0%, #EC4899 50%, #3B82F6 100%);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
        position: relative;
        z-index: 2;
    }
    
    .gradient-button {
        background: linear-gradient(90deg, #8B5CF6 0%, #EC4899 50%, #3B82F6 100%);
        background-size: 200% auto;
        transition: all 0.3s ease;
        position: relative;
        z-index: 2;
    }
    
    .gradient-button:hover {
        background-position: right center;
        transform: translateY(-2px);
        box-shadow: 0 10px 25px rgba(139, 92, 246, 0.3);
    }
    
    /* Minimal overlay - almost transparent */
    .hero-container {
        background: url('/images/hero.jpg');
        background-size: cover;
        background-position: center;
        background-repeat: no-repeat;
        min-height: 85vh;
        display: flex;
        align-items: center;
        position: relative;
    }
    
    /* Ultra subtle overlay for text readability */
    .hero-container::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: rgba(255, 255, 255, 0.25); /* VERY light overlay */
        z-index: 1;
    }
    
    /* Mobile - even less overlay */
    @media (max-width: 768px) {
        .hero-container {
            background: url('/images/hero.jpg');
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
            min-height: 80vh;
            background-attachment: scroll;
        }
        
        .hero-container::before {
            background: rgba(255, 255, 255, 0.20); /* Almost invisible on mobile */
        }
        
        /* Better image positioning for mobile */
        .hero-container {
            background-position: center 35%;
        }
    }
    
    /* Tablet adjustments */
    @media (min-width: 769px) and (max-width: 1024px) {
        .hero-container {
            background-position: center 40%;
        }
    }
    
    /* Strong text contrast for readability */
    .hero-text {
        color: #111827; /* Very dark gray for maximum contrast */
        position: relative;
        z-index: 2;
    }
    
    /* Text shadow for better readability against background */
    .text-overlay h1 {
        text-shadow: 0 2px 4px rgba(255, 255, 255, 0.7);
    }
    
    .text-overlay p {
        text-shadow: 0 1px 3px rgba(255, 255, 255, 0.8);
    }
    
    /* Ensure content is above overlay */
    .hero-content {
        position: relative;
        z-index: 3;
    }
    
    /* Optional: Add a subtle background to text for extra readability */
    @media (max-width: 768px) {
        .text-backdrop {
            display: inline-block;
            padding: 0.5rem 1rem;
            background: rgba(255, 255, 255, 0.15);
            backdrop-filter: blur(4px);
            border-radius: 0.5rem;
        }
    }
</style>

<section class="hero-container font-poppins">
    <div class="container mx-auto px-6 py-20 hero-content">
        <div class="text-center space-y-10 max-w-3xl mx-auto text-overlay">
            <!-- Main Heading - Cleaner -->
            <div class="space-y-8">
                <h1 class="text-5xl md:text-7xl font-light hero-text tracking-tight">
                    Welcome to
                    <span class="block font-bold mt-4">
                        <span class="gradient-text">AppleZone</span>
                    </span>
                </h1>
                
                <!-- Simplified Description -->
                <p class="text-xl md:text-2xl hero-text leading-relaxed">
                    Premium iPhones from XR to 17 Pro Max
                    <span class="block mt-3 text-lg md:text-xl text-gray-800 font-light">
                        Experience. Explore. Elevate.
                    </span>
                </p>
            </div>
            
            <!-- Single CTA Button - Clean & Center -->
            <div class="pt-6">
                <a 
                    href="/products"
                    class="gradient-button inline-flex items-center justify-center rounded-xl text-white px-12 py-5 text-lg font-semibold transition-all shadow-xl hover:shadow-2xl max-w-xs mx-auto"
                >
                    <span class="mr-3">Browse iPhones</span>
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <polyline points="9 18 15 12 9 6"></polyline>
                    </svg>
                </a>
            </div>
        </div>
    </div>
</section>

<script>
    // Simple fade-in animation
    document.addEventListener('DOMContentLoaded', () => {
        const heroContent = document.querySelector('.hero-content');
        if (heroContent) {
            heroContent.style.opacity = '0';
            heroContent.style.transform = 'translateY(20px)';
            heroContent.style.transition = 'opacity 0.8s ease, transform 0.8s ease';
            
            setTimeout(() => {
                heroContent.style.opacity = '1';
                heroContent.style.transform = 'translateY(0)';
            }, 100);
        }
        
        // Load background
        const img = new Image();
        img.src = '/images/hero.jpg';
        
        img.onload = function() {
            console.log('Hero image loaded with minimal overlay');
            // Apply background directly
            document.querySelector('.hero-container').style.backgroundImage = `url('${img.src}')`;
            
            // Set ultra minimal overlay
            const overlay = document.querySelector('.hero-container::before');
            if (overlay) {
                document.querySelector('.hero-container').style.setProperty('--overlay-opacity', 
                    window.innerWidth <= 768 ? '0.15' : '0.20');
            }
        };
        
        img.onerror = function() {
            console.log('Hero image not found, using subtle gradient');
            // Very subtle gradient fallback
            document.querySelector('.hero-container').style.background = 
                'linear-gradient(135deg, #f1f5f9 0%, #e2e8f0 100%)';
            document.querySelector('.hero-container::before').style.background = 'rgba(255, 255, 255, 0.1)';
        };
    });
</script>