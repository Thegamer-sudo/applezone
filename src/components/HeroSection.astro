---
// src/components/HeroSection.astro
// Clean hero section with very subtle background
---

<!-- Import font via Google Fonts -->
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">

<style>
    .font-poppins {
        font-family: 'Poppins', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
    }
    
    .gradient-text {
        background: linear-gradient(90deg, #8B5CF6 0%, #EC4899 50%, #3B82F6 100%);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
    }
    
    .gradient-button {
        background: linear-gradient(90deg, #8B5CF6 0%, #EC4899 50%, #3B82F6 100%);
        background-size: 200% auto;
        transition: all 0.3s ease;
    }
    
    .gradient-button:hover {
        background-position: right center;
        transform: translateY(-2px);
        box-shadow: 0 10px 25px rgba(139, 92, 246, 0.3);
    }
    
    /* Very subtle background - almost transparent */
    .hero-container {
        background: 
            linear-gradient(rgba(255, 255, 255, 0.65), rgba(255, 255, 255, 0.75)), /* SIGNIFICANTLY REDUCED OPACITY */
            url('/images/hero.jpg');
        background-size: cover;
        background-position: center;
        background-repeat: no-repeat;
        min-height: 85vh;
        display: flex;
        align-items: center;
        position: relative;
    }
    
    /* Mobile-specific - even less opacity */
    @media (max-width: 768px) {
        .hero-container {
            background: 
                linear-gradient(rgba(255, 255, 255, 0.70), rgba(255, 255, 255, 0.80)), /* Slightly more on mobile for readability */
                url('/images/hero.jpg');
            background-size: cover;
            background-position: center 30%;
            background-repeat: no-repeat;
            min-height: 80vh;
            background-attachment: scroll;
        }
        
        /* Optional: Remove overlay if you want image to be more visible */
        /*
        .hero-container::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(255, 255, 255, 0.15); /* Very subtle overlay */
            /*z-index: 1;
        }
        */
        
        .hero-content {
            position: relative;
            z-index: 2;
        }
    }
    
    /* Improve text contrast */
    .text-overlay {
        text-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
    }
    
    /* Darker text for better readability */
    .hero-text {
        color: #1f2937; /* Darker gray for better contrast */
    }
    
    /* Subtle glass effect on button for better contrast */
    .glass-button {
        backdrop-filter: blur(10px);
        background: rgba(255, 255, 255, 0.15);
        border: 1px solid rgba(255, 255, 255, 0.3);
    }
</style>

<section class="hero-container font-poppins">
    <div class="container mx-auto px-6 py-20 hero-content">
        <div class="text-center space-y-10 max-w-3xl mx-auto text-overlay">
            <!-- Main Heading - Cleaner -->
            <div class="space-y-8">
                <h1 class="text-5xl md:text-7xl font-light hero-text tracking-tight">
                    Welcome to
                    <span class="block font-bold mt-4">
                        <span class="gradient-text">AppleZone</span>
                    </span>
                </h1>
                
                <!-- Simplified Description -->
                <p class="text-xl md:text-2xl hero-text leading-relaxed">
                    Premium iPhones from XR to 17 Pro Max
                    <span class="block mt-3 text-lg md:text-xl text-gray-700 font-light">
                        Experience. Explore. Elevate.
                    </span>
                </p>
            </div>
            
            <!-- Single CTA Button - Clean & Center -->
            <div class="pt-6">
                <a 
                    href="/products"
                    class="gradient-button inline-flex items-center justify-center rounded-xl text-white px-12 py-5 text-lg font-semibold transition-all shadow-xl hover:shadow-2xl max-w-xs mx-auto"
                >
                    <span class="mr-3">Browse iPhones</span>
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <polyline points="9 18 15 12 9 6"></polyline>
                    </svg>
                </a>
            </div>
        </div>
    </div>
</section>

<script>
    // Simple fade-in animation
    document.addEventListener('DOMContentLoaded', () => {
        const heroContent = document.querySelector('.hero-content');
        if (heroContent) {
            heroContent.style.opacity = '0';
            heroContent.style.transform = 'translateY(20px)';
            heroContent.style.transition = 'opacity 0.8s ease, transform 0.8s ease';
            
            setTimeout(() => {
                heroContent.style.opacity = '1';
                heroContent.style.transform = 'translateY(0)';
            }, 100);
        }
        
        // Load background with minimal overlay
        const img = new Image();
        img.src = '/images/hero.jpg';
        
        img.onload = function() {
            console.log('Hero image loaded with minimal overlay');
            // Apply with very low opacity overlay
            const opacity = window.innerWidth <= 768 ? 0.70 : 0.65; // Slightly more on mobile
            document.querySelector('.hero-container').style.backgroundImage = 
                `linear-gradient(rgba(255, 255, 255, ${opacity}), rgba(255, 255, 255, ${opacity + 0.10})), url('${img.src}')`;
        };
        
        img.onerror = function() {
            console.log('Hero image not found, using gradient fallback');
            // Minimal gradient fallback
            document.querySelector('.hero-container').style.background = 
                'linear-gradient(135deg, rgba(248, 250, 252, 0.9) 0%, rgba(226, 232, 240, 0.9) 100%)';
        };
    });
</script>